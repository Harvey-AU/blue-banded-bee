<!doctype html>
<html lang="en-AU">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings - Blue Banded Bee</title>
    <link rel="stylesheet" href="/styles/app.css" />

    <!-- Sentry Error Monitoring & Performance -->
    <script
      src="https://browser.sentry-cdn.com/10.38.0/bundle.tracing.replay.min.js"
      crossorigin="anonymous"
    ></script>
    <script>
      if (window.Sentry) {
        Sentry.init({
          dsn: "https://04f57d1dedc67f307cef525b1b1551a6@o4509113950928896.ingest.us.sentry.io/4509113952370688",
          environment:
            window.location.hostname === "app.bluebandedbee.co"
              ? "production"
              : "development",

          tracesSampleRate: 0.1,
          replaysSessionSampleRate: 0,
          replaysOnErrorSampleRate: 1.0,

          beforeSend(event) {
            return event;
          },

          ignoreErrors: [
            "ResizeObserver loop limit exceeded",
            "Non-Error promise rejection captured",
            /Failed to fetch/,
            /NetworkError/,
            /Load failed/,
          ],
        });
      }
    </script>

    <script src="/js/core.js" defer></script>
    <script>
      (function () {
        const path = window.location.pathname.replace(/\/$/, "");
        const sectionMap = {
          "/settings": "account",
          "/settings/account": "account",
          "/settings/team": "team",
          "/settings/plans": "plans",
          "/settings/billing": "billing",
          "/settings/notifications": "notifications",
          "/settings/analytics": "analytics",
          "/settings/auto-crawl": "automated-jobs",
          "/settings/automation": "automated-jobs",
          "/settings/automated-jobs": "automated-jobs",
        };
        const target = sectionMap[path] || "account";
        document.documentElement.setAttribute("data-settings-section", target);
      })();
    </script>
  </head>
  <body class="page-settings bb-auth-route-gated">
    <script src="/js/bb-global-nav.js" defer></script>
    <main class="settings-main">
      <div class="settings-container">
        <aside class="settings-nav">
          <div class="settings-group">
            <div class="settings-group-title">Settings</div>
            <a class="settings-link" href="/settings/account">Profile</a>
          </div>

          <div class="settings-group">
            <div class="bb-org-switcher" id="settingsOrgSwitcher">
              <button
                class="settings-org-switcher"
                id="settingsOrgSwitcherBtn"
                aria-expanded="false"
                aria-controls="settingsOrgDropdown"
              >
                <span id="settingsOrgName">Organisation</span>
                <span>â–¼</span>
              </button>
              <div class="bb-org-dropdown" id="settingsOrgDropdown">
                <div class="bb-org-dropdown-header">Switch Organisation</div>
                <div class="bb-org-list" id="settingsOrgList"></div>
                <div class="bb-org-dropdown-footer">
                  <button
                    class="bb-org-create-btn"
                    id="settingsCreateOrgBtn"
                    aria-label="Create a new organisation"
                  >
                    + Create Organisation
                  </button>
                </div>
              </div>
            </div>
            <a class="settings-link" href="/settings/team">Team</a>
            <a class="settings-link" href="/settings/plans">Plans</a>
            <a class="settings-link" href="/settings/billing">Billing</a>
            <a class="settings-link" href="/settings/notifications"
              >Notifications</a
            >
            <a class="settings-link" href="/settings/analytics">Analytics</a>
            <a class="settings-link" href="/settings/automated-jobs"
              >Automated jobs</a
            >
          </div>

          <div class="settings-group settings-hidden" id="adminGroup">
            <div class="settings-group-title">Admin</div>
            <button
              class="settings-link settings-link--danger"
              id="settingsResetDbBtn"
              title="Delete all jobs and tasks - USE WITH CAUTION"
              aria-label="Reset database - delete all jobs and tasks"
            >
              Reset Database
            </button>
          </div>
        </aside>

        <section class="settings-content">
          <section class="settings-section" id="account">
            <h2 class="settings-section-title">Account</h2>
            <p class="settings-section-subtitle">
              Personal details stay with your login, even when you switch
              organisations.
            </p>

            <div class="settings-card" id="profile">
              <div class="settings-row">
                <div>
                  <label for="settingsUserFirstNameInput"
                    ><strong>Name</strong></label
                  >
                  <div class="settings-profile-edit">
                    <input
                      class="settings-input"
                      id="settingsUserFirstNameInput"
                      type="text"
                      maxlength="80"
                      placeholder="First name"
                    />
                    <input
                      class="settings-input"
                      id="settingsUserLastNameInput"
                      type="text"
                      maxlength="80"
                      placeholder="Last name"
                      aria-label="Last name"
                    />
                    <button
                      class="bb-button bb-button-outline settings-btn-sm"
                      id="settingsSaveName"
                      type="button"
                    >
                      Save name
                    </button>
                  </div>
                </div>
              </div>
              <div class="settings-row">
                <div>
                  <strong>Email</strong>
                  <div class="settings-muted" id="settingsUserEmail">
                    Loading...
                  </div>
                </div>
              </div>
            </div>

            <div class="settings-card" id="security">
              <div class="settings-row">
                <div>
                  <strong>Password</strong>
                  <div class="settings-muted" id="settingsPasswordMethodStatus">
                    Email/password sign-in status: loading...
                  </div>
                </div>
                <button
                  class="bb-button bb-button-outline"
                  id="settingsResetPassword"
                >
                  Send reset email
                </button>
              </div>
              <div class="settings-row">
                <div>
                  <strong>Authentication methods</strong>
                  <div class="settings-auth-methods" id="settingsAuthMethods">
                    <span class="settings-muted">Loading...</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="settings-section" id="team">
            <h2 class="settings-section-title" id="members">Team</h2>
            <p class="settings-section-subtitle">
              Manage who has access to this organisation. Admins can add or
              remove members.
            </p>

            <div class="settings-card">
              <div id="teamMembersList"></div>
              <div class="settings-muted settings-hidden" id="teamMembersEmpty">
                No members found.
              </div>
            </div>

            <div class="settings-card" id="invites">
              <div class="settings-row settings-row--borderless">
                <div>
                  <strong>Invite someone</strong>
                  <div class="settings-muted">
                    Send an invite email with access details.
                  </div>
                </div>
              </div>
              <form id="teamInviteForm" class="settings-spacing-top">
                <div class="settings-invite-grid">
                  <div>
                    <label class="settings-muted" for="teamInviteEmail"
                      >Email</label
                    >
                    <input
                      class="settings-input"
                      id="teamInviteEmail"
                      type="email"
                      placeholder="name@company.com"
                      required
                    />
                  </div>
                  <div>
                    <label class="settings-muted" for="teamInviteRole"
                      >Role</label
                    >
                    <select class="settings-input" id="teamInviteRole">
                      <option value="member">Member</option>
                      <option value="admin">Admin</option>
                    </select>
                  </div>
                  <button class="bb-button bb-button-primary" data-admin-only>
                    Send invite
                  </button>
                </div>
              </form>

              <div class="settings-spacing-top-md">
                <strong>Pending invites</strong>
                <div id="teamInvitesList" class="settings-spacing-top"></div>
                <div
                  class="settings-muted settings-hidden"
                  id="teamInvitesEmpty"
                >
                  No pending invites.
                </div>
              </div>
            </div>
          </section>

          <section class="settings-section" id="plans">
            <h2 class="settings-section-title" id="current">Plans</h2>
            <p class="settings-section-subtitle">
              Choose a plan that matches your daily usage needs. Admins can
              switch plans.
            </p>

            <div class="settings-tabs" role="tablist" aria-label="Plan views">
              <button
                class="settings-tab active"
                type="button"
                data-tab-target="planTabCurrent"
                id="planTabCurrentTrigger"
                role="tab"
                aria-controls="planTabCurrent"
                aria-selected="true"
              >
                Current
              </button>
              <button
                class="settings-tab"
                type="button"
                data-tab-target="planTabChange"
                id="planTabChangeTrigger"
                role="tab"
                aria-controls="planTabChange"
                aria-selected="false"
              >
                Change plan
              </button>
              <button
                class="settings-tab"
                type="button"
                data-tab-target="planTabUsage"
                id="planTabUsageTrigger"
                role="tab"
                aria-controls="planTabUsage"
                aria-selected="false"
              >
                Usage history
              </button>
            </div>

            <div
              class="settings-tab-panel active"
              id="planTabCurrent"
              role="tabpanel"
              aria-labelledby="planTabCurrentTrigger"
              tabindex="0"
            >
              <div class="settings-card">
                <div class="settings-row">
                  <div>
                    <strong>Current plan</strong>
                    <div class="settings-muted" id="planCurrentName">
                      Loading...
                    </div>
                  </div>
                  <div class="settings-muted" id="planCurrentLimit"></div>
                </div>
                <div class="settings-row">
                  <div class="settings-muted" id="planCurrentUsage"></div>
                  <div class="settings-muted" id="planCurrentReset"></div>
                </div>
              </div>
            </div>

            <div
              class="settings-tab-panel"
              id="planTabChange"
              role="tabpanel"
              aria-labelledby="planTabChangeTrigger"
              tabindex="0"
            >
              <div class="settings-card" id="compare">
                <div class="settings-plan-grid" id="planCards"></div>
              </div>
            </div>

            <div
              class="settings-tab-panel"
              id="planTabUsage"
              role="tabpanel"
              aria-labelledby="planTabUsageTrigger"
              tabindex="0"
            >
              <div class="settings-card">
                <strong>Usage history (30 days)</strong>
                <div id="usageHistoryList" class="settings-spacing-top"></div>
              </div>
            </div>
          </section>

          <section class="settings-section" id="billing">
            <h2 class="settings-section-title" id="payment-methods">Billing</h2>
            <p class="settings-section-subtitle">
              Update payment methods and view invoices. Admin-only.
            </p>

            <div class="settings-card">
              <div class="settings-row">
                <div>
                  <strong>Subscription</strong>
                  <div class="settings-muted" id="billingPlanLabel">
                    Plan: -
                  </div>
                  <div class="settings-muted" id="billingStatusLabel">
                    Status: -
                  </div>
                  <div class="settings-muted" id="billingRenewalLabel"></div>
                </div>
                <button
                  class="bb-button bb-button-outline"
                  id="billingPortalButton"
                  data-admin-only
                >
                  Manage billing
                </button>
              </div>
            </div>

            <div class="settings-card" id="invoices">
              <div class="settings-row">
                <div>
                  <strong>Invoices</strong>
                  <div class="settings-muted" id="billingInvoicesSummary">
                    No invoices available yet.
                  </div>
                </div>
              </div>
              <div id="billingInvoicesList" class="settings-spacing-top"></div>
            </div>
          </section>

          <section class="settings-section" id="notifications">
            <h2 class="settings-section-title" id="slack">Notifications</h2>
            <p class="settings-section-subtitle">
              Connect Slack to receive job notifications.
            </p>

            <div class="settings-card">
              <h3 class="settings-section-header">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"
                    fill="#E01E5A"
                  />
                </svg>
                Slack integration
              </h3>
              <p class="settings-muted">
                Connect your Slack workspace to receive job completion and
                failure notifications.
              </p>

              <div id="slackConnectionsList" bbb-list="slack-connections">
                <div
                  class="settings-row settings-hidden"
                  bbb-template="slack-connection"
                >
                  <div>
                    <div
                      class="slack-workspace-name settings-connection-name"
                    ></div>
                    <div class="slack-connected-date settings-muted"></div>
                  </div>
                  <button
                    class="bb-button bb-button-outline"
                    bbb-action="slack-disconnect"
                  >
                    Disconnect
                  </button>
                </div>
              </div>

              <div id="slackEmptyState" class="settings-empty-state">
                <p class="settings-empty-text">
                  No Slack workspace connected yet.
                </p>
                <button
                  class="bb-button bb-button-primary settings-btn-icon"
                  bbb-action="slack-connect"
                >
                  Connect Slack Workspace
                </button>
              </div>

              <div
                id="slackSuccessMessage"
                class="settings-notification settings-notification--success"
              >
                <span id="slackSuccessText"></span>
              </div>
              <div
                id="slackErrorMessage"
                class="settings-notification settings-notification--error"
              >
                <span id="slackErrorText"></span>
              </div>
            </div>
          </section>

          <section class="settings-section" id="analytics">
            <h2 class="settings-section-title" id="google-analytics">
              Analytics
            </h2>
            <p class="settings-section-subtitle">
              Connect Google Analytics 4 to enrich prioritisation.
            </p>

            <div class="settings-card" id="googleAnalyticsSection">
              <h3 class="settings-section-header">
                <span class="settings-section-icon">ðŸ“Š</span>
                Google Analytics integration
              </h3>
              <p class="settings-muted">
                Connect your GA4 property to track cache warming performance.
              </p>

              <button
                class="bb-button bb-button-primary settings-btn-icon settings-btn-icon--spaced"
                bbb-action="google-connect"
              >
                Connect Google Analytics
              </button>

              <div id="googleConnectionsList" bbb-list="google-connections">
                <div
                  class="settings-row settings-hidden"
                  bbb-template="google-connection"
                >
                  <div>
                    <div class="google-name settings-connection-name"></div>
                    <div class="google-email settings-muted"></div>
                    <div class="google-connected-date settings-muted"></div>
                  </div>
                  <div class="settings-connection-actions">
                    <span class="google-status settings-muted"></span>
                    <label class="bb-toggle">
                      <input
                        type="checkbox"
                        class="google-status-toggle"
                        aria-label="Enable Google Analytics connection"
                      />
                      <span class="bb-toggle-slider"></span>
                    </label>
                    <button
                      class="bb-button bb-button-outline"
                      bbb-action="google-disconnect"
                    >
                      Disconnect
                    </button>
                  </div>
                </div>
              </div>

              <div id="googlePropertySelection" class="settings-property-panel">
                <h4 class="settings-property-title">Select a GA4 Property</h4>
                <p class="settings-property-subtitle">
                  Multiple properties found. Please select which one to connect:
                </p>
                <div id="googlePropertyList"></div>
              </div>

              <div
                id="googleEmptyState"
                class="settings-empty-state settings-empty-state--compact settings-hidden"
              >
                <p class="settings-empty-text settings-empty-text--no-margin">
                  No connections yet. Click above to connect your first
                  property.
                </p>
              </div>

              <div
                id="googleSuccessMessage"
                class="settings-notification settings-notification--success settings-notification--compact"
              >
                <span id="googleSuccessText"></span>
              </div>
              <div
                id="googleErrorMessage"
                class="settings-notification settings-notification--error settings-notification--compact"
              >
                <span id="googleErrorText"></span>
              </div>
            </div>
          </section>

          <section class="settings-section" id="automated-jobs">
            <h2 class="settings-section-title" id="webflow">Automated jobs</h2>
            <p class="settings-section-subtitle">
              Configure Webflow publish runs and scheduled crawl jobs.
            </p>
            <div
              class="settings-tabs"
              role="tablist"
              aria-label="Automated jobs views"
            >
              <button
                class="settings-tab active"
                type="button"
                data-auto-crawl-tab-target="autoCrawlWebflowPanel"
                id="autoCrawlWebflowTrigger"
                role="tab"
                aria-controls="autoCrawlWebflowPanel"
                aria-selected="true"
              >
                Webflow
              </button>
              <button
                class="settings-tab"
                type="button"
                data-auto-crawl-tab-target="autoCrawlSchedulesPanel"
                id="autoCrawlSchedulesTrigger"
                role="tab"
                aria-controls="autoCrawlSchedulesPanel"
                aria-selected="false"
              >
                Scheduled
              </button>
            </div>

            <div
              class="settings-tab-panel active"
              id="autoCrawlWebflowPanel"
              role="tabpanel"
              aria-labelledby="autoCrawlWebflowTrigger"
              tabindex="0"
            >
              <div class="settings-card">
                <h3 class="settings-section-header">
                  <span class="settings-section-icon">âš¡</span>
                  Webflow integration
                </h3>
                <p class="settings-muted">
                  Connect your Webflow sites to enable "Run on Publish" and
                  manage schedules.
                </p>

                <div id="webflowConnectionsList" bbb-list="webflow-connections">
                  <div
                    class="settings-row settings-hidden"
                    bbb-template="webflow-connection"
                  >
                    <div>
                      <div class="webflow-name settings-connection-name"></div>
                      <div class="webflow-connected-date settings-muted"></div>
                    </div>
                    <button
                      class="bb-button bb-button-outline"
                      bbb-action="webflow-disconnect"
                    >
                      Disconnect
                    </button>
                  </div>
                </div>

                <div id="webflowSitesConfig" class="settings-sites-panel">
                  <div class="settings-sites-header">
                    <h4 class="settings-sites-title">Configure Sites</h4>
                    <button
                      id="webflowSitesRefresh"
                      class="bb-button bb-button-outline settings-btn-sm"
                      bbb-action="webflow-sites-refresh"
                      title="Refresh sites list"
                      aria-label="Refresh sites list"
                    >
                      Refresh
                    </button>
                  </div>

                  <div id="webflowSitesSearchBox" class="settings-sites-search">
                    <input
                      type="text"
                      id="webflowSiteSearch"
                      class="settings-sites-search-input"
                      placeholder="Search sites..."
                      aria-label="Search Webflow sites"
                    />
                  </div>

                  <div id="webflowSitesList">
                    <div
                      class="webflow-site-row settings-site-row"
                      bbb-template="webflow-site"
                    >
                      <div class="settings-site-content">
                        <div class="settings-site-info">
                          <span class="site-name settings-site-name"></span>
                          <span class="site-domain settings-site-domain"></span>
                        </div>
                        <div class="settings-site-controls">
                          <div class="settings-site-control-group">
                            <label class="settings-site-label">Schedule:</label>
                            <select
                              class="site-schedule settings-site-select"
                              bbb-action="site-schedule-change"
                              aria-label="Schedule frequency for site"
                            >
                              <option value="">None</option>
                              <option value="6">Every 6 hours</option>
                              <option value="12">Every 12 hours</option>
                              <option value="24">Every 24 hours</option>
                              <option value="48">Every 48 hours</option>
                            </select>
                          </div>
                          <div class="settings-site-control-group">
                            <label class="settings-site-label"
                              >Run on Publish:</label
                            >
                            <label class="bb-toggle">
                              <input
                                type="checkbox"
                                class="site-autopublish"
                                aria-label="Run on Publish"
                              />
                              <span class="bb-toggle-slider"></span>
                            </label>
                          </div>
                        </div>
                      </div>
                      <div class="site-status settings-site-status"></div>
                    </div>

                    <div
                      id="webflowSitesLoading"
                      class="settings-sites-loading"
                    >
                      Loading sites...
                    </div>
                    <div id="webflowSitesEmpty" class="settings-sites-empty">
                      No sites found in this Webflow workspace.
                    </div>
                  </div>

                  <div
                    id="webflowSitesPagination"
                    class="settings-sites-pagination"
                  >
                    <button
                      id="webflowSitesPrevPage"
                      class="bb-button bb-button-outline settings-pagination-btn settings-pagination-btn--prev"
                      bbb-action="webflow-sites-prev"
                      aria-label="Previous page of Webflow sites"
                      disabled
                    >
                      Previous
                    </button>
                    <span
                      id="webflowSitesPageInfo"
                      class="settings-pagination-info"
                    ></span>
                    <button
                      id="webflowSitesNextPage"
                      class="bb-button bb-button-outline settings-pagination-btn settings-pagination-btn--next"
                      bbb-action="webflow-sites-next"
                      aria-label="Next page of Webflow sites"
                    >
                      Next
                    </button>
                  </div>
                </div>

                <div id="webflowEmptyState" class="settings-empty-state">
                  <p class="settings-empty-text">No Webflow connection yet.</p>
                  <button
                    class="bb-button bb-button-primary settings-btn-icon"
                    bbb-action="webflow-connect"
                  >
                    Connect Webflow
                  </button>
                </div>

                <div
                  id="webflowSuccessMessage"
                  class="settings-notification settings-notification--success settings-notification--compact"
                >
                  <span id="webflowSuccessText"></span>
                </div>
                <div
                  id="webflowErrorMessage"
                  class="settings-notification settings-notification--error settings-notification--compact"
                >
                  <span id="webflowErrorText"></span>
                </div>
              </div>
            </div>

            <div
              class="settings-tab-panel"
              id="autoCrawlSchedulesPanel"
              role="tabpanel"
              aria-labelledby="autoCrawlSchedulesTrigger"
              tabindex="0"
            >
              <div class="settings-card">
                <div class="settings-row">
                  <div>
                    <strong id="schedules">Scheduled jobs</strong>
                    <div class="settings-muted">
                      Manage recurring crawl jobs for this organisation.
                    </div>
                  </div>
                  <button
                    class="bb-button bb-button-outline settings-btn-sm"
                    id="autoCrawlSchedulesRefresh"
                    type="button"
                  >
                    Refresh
                  </button>
                </div>

                <div class="bb-jobs-list" id="settingsSchedulesList">
                  <div
                    class="bb-job-card"
                    data-settings-template="schedule"
                    style="display: none"
                  >
                    <div class="bb-job-header">
                      <div class="bb-job-domain">example.com</div>
                      <div class="bb-schedule-info">
                        <span>24 hours</span>
                        <span class="bb-schedule-status bb-schedule-enabled">
                          Enabled
                        </span>
                      </div>
                    </div>
                    <div class="bb-job-footer">
                      <div>
                        <span style="font-weight: 500">Next run:</span>
                        <span>-</span>
                      </div>
                      <div class="bb-job-actions">
                        <button
                          class="bb-job-link"
                          data-schedule-action="toggle"
                          type="button"
                        >
                          Disable
                        </button>
                        <button
                          class="bb-job-link"
                          data-schedule-action="view-jobs"
                          type="button"
                        >
                          View Jobs
                        </button>
                        <button
                          class="bb-job-link"
                          data-schedule-action="delete"
                          style="color: #dc2626"
                          type="button"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                  </div>
                  <div
                    id="settingsSchedulesEmpty"
                    style="
                      text-align: center;
                      padding: 32px;
                      color: #6b7280;
                      display: none;
                    "
                  >
                    No schedules configured.
                  </div>
                </div>
              </div>
            </div>
          </section>
        </section>
      </div>
    </main>

    <div id="authModalContainer"></div>

    <template id="teamMemberTemplate">
      <div class="settings-member-row">
        <div class="settings-member-details">
          <span class="settings-member-avatar" aria-hidden="true">?</span>
          <div class="settings-member-text">
            <span class="settings-member-name"></span>
            <span class="settings-member-email"></span>
          </div>
        </div>
        <select
          class="settings-input settings-member-role-select"
          aria-label="Member role"
        >
          <option value="member">Member</option>
          <option value="admin">Admin</option>
        </select>
        <button class="bb-button bb-button-outline settings-member-remove">
          Remove
        </button>
      </div>
    </template>

    <template id="teamInviteTemplate">
      <div class="settings-invite-row">
        <div class="settings-invite-details">
          <span class="settings-invite-email"></span>
          <span class="settings-invite-date"></span>
        </div>
        <span class="settings-invite-role"></span>
        <div class="settings-invite-actions">
          <button
            class="bb-button bb-button-outline settings-invite-copy"
            title="Copy invite link"
          >
            Copy link
          </button>
          <button class="bb-button bb-button-outline settings-invite-revoke">
            Revoke
          </button>
        </div>
      </div>
    </template>

    <template id="planCardTemplate">
      <div class="settings-plan-card">
        <div class="settings-plan-name"></div>
        <div class="settings-plan-price"></div>
        <div class="settings-plan-limit"></div>
        <button class="bb-button bb-button-outline settings-plan-action">
          Switch plan
        </button>
      </div>
    </template>

    <!-- Create Organisation Modal -->
    <div
      id="createOrgModal"
      class="bb-modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="createOrgModalTitle"
    >
      <div class="bb-modal-content settings-modal-narrow">
        <div class="bb-modal-header">
          <h2 class="bb-modal-title" id="createOrgModalTitle">
            Create Organisation
          </h2>
          <button
            class="bb-modal-close"
            id="closeCreateOrgModal"
            aria-label="Close create organisation modal"
          >
            Ã—
          </button>
        </div>
        <form id="createOrgForm">
          <div class="bb-form-group">
            <label for="newOrgName">Organisation Name</label>
            <input
              type="text"
              id="newOrgName"
              name="name"
              required
              maxlength="100"
              placeholder="Enter organisation name"
              class="bb-form-input"
              aria-describedby="createOrgError"
            />
          </div>
          <div class="settings-modal-actions">
            <button
              type="button"
              class="bb-button bb-button-outline"
              id="cancelCreateOrg"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bb-button bb-button-primary"
              id="submitCreateOrg"
            >
              Create
            </button>
          </div>
        </form>
        <div id="createOrgError" class="bb-auth-error settings-hidden"></div>
      </div>
    </div>

    <script src="/js/bb-data-binder.js" defer></script>
    <script src="/js/bb-auth-extension.js" defer></script>
    <script src="/js/bb-slack.js" defer></script>
    <script src="/js/bb-webflow.js" defer></script>
    <script src="/js/bb-google.js" defer></script>
    <script src="/js/bb-admin.js" defer></script>
    <script src="/js/bb-invite-flow.js" defer></script>
    <script src="/js/bb-settings.js" defer></script>
  </body>
</html>
